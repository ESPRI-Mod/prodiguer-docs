
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Messaging plateform &mdash; Prodiguer Documentation  documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.4/cerulean/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/prodiguer-styles.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Prodiguer Documentation  documentation" href="index.html" />
    <link rel="next" title="Data documentation" href="documentation.html" />
    <link rel="prev" title="ESGF integration" href="esgf.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          PRODIGUER Home</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Menu <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="esgf.html">ESGF integration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Messaging plateform</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#monitoring">Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simulation-metrics">Simulation metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#environment-metrics">Environment metrics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Data documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#earth-system-documentation-es-doc">Earth-System DOCumentation (ES-DOC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="documentation.html#ipsl-cm-errata">IPSL-CM Errata</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="synchronization.html">Data synchronization</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Analysis plateform</a><ul>
<li class="toctree-l2"><a class="reference internal" href="analysis.html#post-processing-pipeline-for-mip-data">Post-processing pipeline for MIP data</a></li>
<li class="toctree-l2"><a class="reference internal" href="analysis.html#search-and-get-mip-aggregations">Search and get MIP aggregations</a></li>
<li class="toctree-l2"><a class="reference internal" href="analysis.html#web-processing-services-wps">Web Processing Services (WPS)</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Section menu <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Messaging plateform</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#monitoring">Monitoring</a><ul>
<li><a class="reference internal" href="#id1">libIGCM</a></li>
<li><a class="reference internal" href="#prodiguer-shell">Prodiguer Shell</a></li>
<li><a class="reference internal" href="#prodiguer-server">Prodiguer Server</a></li>
<li><a class="reference internal" href="#prodiguer-controlled-vocabulary">Prodiguer Controlled Vocabulary</a></li>
</ul>
</li>
<li><a class="reference internal" href="#simulation-metrics">Simulation metrics</a><ul>
<li><a class="reference internal" href="#prodiguer-metrics-formatter">Prodiguer Metrics Formatter</a></li>
<li><a class="reference internal" href="#prodiguer-client">Prodiguer Client</a></li>
</ul>
</li>
<li><a class="reference internal" href="#environment-metrics">Environment metrics</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="esgf.html" title="Previous Chapter: ESGF integration"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; ESGF integration</span>
    </a>
  </li>
  <li>
    <a href="documentation.html" title="Next Chapter: Data documentation"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Data documentati... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/messaging.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="messaging-plateform">
<h1>Messaging plateform<a class="headerlink" href="#messaging-plateform" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The PRODIGUER messaging platform supports the development of climate simulation downstream applications by providing a messaging transport and persistence layer. Current focuses are on simulation robustness and metrics collections. This messaging platform is a distributed computing environment based upon the Advanced Message Queuing Protocol (<a class="reference external" href="https://www.amqp.org/">AMQP</a>). A network of <a class="reference external" href="https://www.amqp.org/">AMQP</a> servers support the dispatch and processing of messages. A message consists of a header and content: headers contain standardised fields whereas content is specific to each application.</p>
</div>
<div class="section" id="monitoring">
<h2>Monitoring<a class="headerlink" href="#monitoring" title="Permalink to this headline">¶</a></h2>
<p>During simulation execution the <a class="reference external" href="http://forge.ipsl.jussieu.fr/libigcm">libIGCM</a> runtime environment dispatches simulation monitoring messages to the central Prodiguer MQ server. Received messages drive downstream applications such as the Simulation Monitoring web application or the Supervisor machine intelligence application.</p>
<p>The Simulation Monitoring application is built ontop of the Prodiguer messaging platform. The <a class="reference external" href="http://forge.ipsl.jussieu.fr/libigcm">libIGCM</a> simulation runtime environment controls the workflow of a simulation. At various points in the workflow, messages are generated and dispatched (in batches) to the central Prodiguer MQ server. The messages encapsulate significant events in the lifetime of a simulation.</p>
<p>Received messages are persisted and drive downstream applications such as the Simulation Monitoring web application and the Supervisor machine intelligence daemon. The former supports real-time simulation monitoring whilst the latter support real-time simulation control.</p>
<div class="section" id="id1">
<h3>libIGCM<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="http://www.ipsl.fr/">IPSL</a> climate modelling section set up an infrastructure around the <a class="reference external" href="http://www.ipsl.fr/">IPSL</a> coupled model to access, launch and chain simulation and post-processing (time series, atlas, monitoring) of a climate model simultion. In order to facilitate consistent implementation of coupled model configurations, all or part of the climate model launches rewriting scripts experiences. The corresponding job is modular and flexible for a number of configurations and keep their consistency. The proposed structure is based on a new design of operation that wants to provide clarity and flexibility both at a beginner user, as an experienced user.</p>
</div>
<div class="section" id="prodiguer-shell">
<h3>Prodiguer Shell<a class="headerlink" href="#prodiguer-shell" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="prodiguer-server">
<h3>Prodiguer Server<a class="headerlink" href="#prodiguer-server" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="prodiguer-controlled-vocabulary">
<h3>Prodiguer Controlled Vocabulary<a class="headerlink" href="#prodiguer-controlled-vocabulary" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="simulation-metrics">
<h2>Simulation metrics<a class="headerlink" href="#simulation-metrics" title="Permalink to this headline">¶</a></h2>
<p>Metrics characterizing simulations ability to reproduce observed climate are computed at each computing center during simulation execution. The so called &#8220;simulation metrics&#8221; are dispatched to the central Prodiguer MQ server where they are persisted and made available for downstream exploitation (e.g. visualizations).</p>
<p>As simulations run within HPC environments there is the need to gather metrics in the form of 2D matrices synthesizing relevant climate information. Each type of metrics contains standard information such as institute, model, etc. and custom information specific to the type of metric being collected. Such information can be used by reporting and visualization applications.</p>
<p>The <a class="reference external" href="http://www.ipsl.fr/">IPSL</a> simulation runtime environment (<a class="reference external" href="http://forge.ipsl.jussieu.fr/libigcm">libIGCM</a>) has been extended to support the publishing of simulation metrics. At runtime simulation metrics are published to the Prodiguer messaging platform. The published metrics are processed at <a class="reference external" href="http://www.ipsl.fr/">IPSL</a> servers in Paris and persisted within a NOSql (<a class="reference external" href="https://www.mongodb.org/">MongoDB</a>) database. They then become available to downstream applications such as the &#8220;metrics garden&#8221;.</p>
<div class="section" id="prodiguer-metrics-formatter">
<h3>Prodiguer Metrics Formatter<a class="headerlink" href="#prodiguer-metrics-formatter" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="prodiguer-client">
<h3>Prodiguer Client<a class="headerlink" href="#prodiguer-client" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="environment-metrics">
<h2>Environment metrics<a class="headerlink" href="#environment-metrics" title="Permalink to this headline">¶</a></h2>
<p>HPC environment related metrics are gathered at each computing center during simulation execution. The so called &#8220;environment metrics&#8221; are dispatched to the central Prodiguer MQ server where they are persisted and made available for downstream exploitation (e.g. visualizations).</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015, Prodiguer Team.<br/>
    </p>
  </div>
</footer>
  </body>
</html>